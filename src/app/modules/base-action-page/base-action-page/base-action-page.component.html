<app-header-apps></app-header-apps>

<!-- Split Screen Starts-->
<div class="col content-headermenu-top">
    <!-- Card starts -->
    <div class="row m-0 col-12 ps-2 pe-2">
        <div class="card-body">
            <div class="card-content">
                <div class="row m-0 col-12 card-header">
                    <div class="col-12 p-0 disp-flex">
                        <label class="col-5 ps-0 card-header-lab" title="{{PageTitle}}">
                            <span>
                                <svg class="card-header-icon" xmlns="http://www.w3.org/2000/svg" width="512"
                                    height="512" fill-rule="evenodd" clip-rule="evenodd"
                                    image-rendering="optimizeQuality" shape-rendering="geometricPrecision"
                                    text-rendering="geometricPrecision" viewBox="0 0 512 512" id="listing">
                                    <path
                                        d="M446.85 511.96l-381.7 0c-5.67,0 -10.27,-4.61 -10.27,-10.27l0 -491.37c0,-5.67 4.61,-10.28 10.27,-10.28l267.4 0c1.6,0 3.12,0.63 4.25,1.76 1.12,1.12 1.75,2.65 1.75,4.24l0 101.89 112.57 0c3.32,0 6,2.69 6,6l0 387.76c0,5.66 -4.6,10.27 -10.27,10.27zm-379.98 -12l378.26 0 0 -380.03 -112.58 0c-3.31,0 -5.99,-2.69 -5.99,-6l0 -101.89 -259.69 0 0 487.92z">
                                    </path>
                                    <path
                                        d="M451.13 119.93l-118.57 0c-3.32 0-6-2.69-6-6l0-107.89c0-2.37 1.4-4.52 3.57-5.48 2.17-.96 4.71-.55 6.46 1.05l118.57 107.88c1.84 1.67 2.45 4.3 1.56 6.61-.89 2.31-3.12 3.83-5.59 3.83zm-112.58-12l97.07 0-97.07-88.32 0 88.32zM270.92 47.45l-148.41 0c-3.31 0-6-2.69-6-6 0-3.31 2.69-6 6-6l148.41 0c3.31 0 6 2.69 6 6 0 3.31-2.69 6-6 6zM270.92 89.11l-148.41 0c-3.31 0-6-2.69-6-6 0-3.31 2.69-6 6-6l148.41 0c3.31 0 6 2.69 6 6 0 3.31-2.69 6-6 6zM198.2 240.96l-101.55 0c-3.31 0-6-2.69-6-6l0-85.93c0-3.31 2.69-6 6-6l101.55 0c3.31 0 6 2.69 6 6l0 85.93c0 3.31-2.69 6-6 6zm-95.55-12l89.55 0 0-73.93-89.55 0 0 73.93z">
                                    </path>
                                    <path
                                        d="M138.03 214.98l0 0c-1.59 0-3.11-.63-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.35-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.12 1.13-2.65 1.76-4.24 1.76zM415.35 178.08l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 218.7l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                    </path>
                                    <g>
                                        <path
                                            d="M198.2 358.91l-101.55 0c-3.31,0 -6,-2.69 -6,-6l0 -85.93c0,-3.31 2.69,-6 6,-6l101.55 0c3.31,0 6,2.69 6,6l0 85.93c0,3.31 -2.69,6 -6,6zm-95.55 -12l89.55 0 0 -73.93 -89.55 0 0 73.93z">
                                        </path>
                                        <path
                                            d="M138.03 332.93c-1.53 0-3.07-.59-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.34-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.17 1.17-2.7 1.76-4.24 1.76zM415.35 296.03l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 336.65l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                        </path>
                                    </g>
                                    <g>
                                        <path
                                            d="M198.2 476.86l-101.55 0c-3.31,0 -6,-2.69 -6,-6l0 -85.93c0,-3.31 2.69,-6 6,-6l101.55 0c3.31,0 6,2.69 6,6l0 85.93c0,3.31 -2.69,6 -6,6zm-95.55 -12l89.55 0 0 -73.93 -89.55 0 0 73.93z">
                                        </path>
                                        <path
                                            d="M138.03 450.88l0 0c-1.59 0-3.11-.63-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.35-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.12 1.13-2.65 1.76-4.24 1.76zM415.35 413.98l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 454.6l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                        </path>
                                    </g>
                                </svg>
                            </span><label class="card-header-lab-svg">{{PageTitle}}</label></label>
                        <!-- Tags starts -->
                        <div class="col p-0 badges-container">
                            <div class="header-badge" title="Batch Number:{{HeaderValue}}"><b>Batch Number: </b>{{CaseDetails['Batch Number']}}</div>
                            <!-- <span class="header-badge-info" title="Info">
                                <svg class="header-badge-info-icon" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20" id="info">
                                    <path
                                        d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z">
                                    </path>
                                </svg>
                            </span> -->
                        </div>
                        <!-- Tags ends -->
                        <span class="card-header-back" (click)="Back()" title="Back to dashboard">
                            <i class="fa-solid fa-arrow-left pt-2 px-2" ></i>
                            <!-- <span class="material-icons return">u_turn_left</span> -->
                        </span>
                    </div>
                </div>
                <!-- Content starts -->
                <!-- Tabs starts -->
                <div class="row m-0">
                    <div class="col-12 p-0 task-tabs">
                        <mat-tab-group style="display: none;" animationDuration="0ms" [selectedIndex]="selected.value"
                            (selectedIndexChange)="selected.setValue($event)" (selectedTabChange)="tabClick($event)">
                            <!-- Tab Structure starts -->
                            <mat-tab *ngFor="let tab of TabList; let i = index" label="">
                                <ng-template mat-tab-label>
                                    <span class="tab-container">
                                        <span class="tab-header">
                                            <span class="tab-title" [ngClass]="tab.TabName === 'Case Details' ? 'tab-title-case': ''"><label title="{{tab.TabName}}">{{tab.TabName}}</label>
                                                <span *ngIf="tab.TabName != 'Case Details'" (click)="tabInfoClickEventHandler(i); $event.stopPropagation();" class="tab-badge-info" title="Info"><svg class="tab-badge-info-icon"
                                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                        id="info">
                                                        <path
                                                            d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z">
                                                        </path>
                                                    </svg>
                                                </span>
                                                <!-- Tab Info icon dropdown -->
                                                <div (click)="$event.stopPropagation()" [ngClass]="tab.showInfo === true ? 'task-tab-dropdown' : 'disp-none'">
                                                    <div class="task-tab-dropdown-container">
                                                        <div class="row m-0 detail-section">
                                                            <div class="row m-0 col-12 detail-section-container">
                                                                <div class="col-12 p-0 detail-section-fields">
                                                                    <dl>
                                                                        <span class="swap">
                                                                          <dt><span class="dt-label" title="Assigned To :">Assigned To </span></dt>
                                                                          <dd class="dd-label-value">: <span class="dd-label" title="{{tab.AssignedTo}}">{{tab.AssignedTo}}</span></dd>
                                                                        </span>
                                                                      </dl>
                                                                </div>
                                                                <div class="col-12 p-0 detail-section-fields">
                                                                    <dl> 
                                                                        <span class="swap">
                                                                          <dt><span class="dt-label" title="Task ID :">Task ID </span></dt>
                                                                          <dd class="dd-label-value">: <span class="dd-label" title="{{tab.TaskID}}">{{tab.TaskID}}</span></dd>
                                                                        </span>
                                                                      </dl>
                                                                </div>
                                                                <div class="col-12 p-0 detail-section-fields">
                                                                    <dl> 
                                                                        <span class="swap">
                                                                          <dt><span class="dt-label" title="Task Name :">Task Name </span></dt>
                                                                          <dd class="dd-label-value">: <span class="dd-label" title="{{tab.TaskName}}">{{tab.TaskName}}</span></dd>
                                                                        </span>
                                                                      </dl>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row m-0 mt-3">
                                                            <div class="col-12 p-0 text-end">
                                                                <button (click)="tab.showInfo = false" class="btn btn-primary" title="Ok">OK</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </span>
                                            <span *ngIf="tab.TabName != 'Case Details'" class="tab-keyvalue" title="Due Date: {{tab.DueDate}}"><b>Due:</b>{{tab.DueDate}}</span>
                                        </span>
                                        <span *ngIf="tab.TabName != 'Case Details'" class="tab-user-info" title="{{tab.AssignedTo}}">{{tab.AssignedToShortName}}
                                            <span class="tab-user-info-tick">
                                                <i *ngIf="tab.Status !== 'In Progress' && tab.Status !== 'Completed'" class="fas fa-check-circle notstarted" title="Not Started"></i>
                                                <i *ngIf="tab.Status === 'In Progress'" class="fas fa-check-circle inprogress" title="In Progress"></i>
                                                <i *ngIf="tab.Status === 'Completed'" class="fas fa-check-circle completed" title="Completed"></i>
                                            </span>
                                        </span>
                                    </span>
                                </ng-template>
                                <ng-template matTabContent>
                                    <!-- Record Split Content Starts -->
                                    <div class="task-tab-height" *ngIf="tab.TabName === 'Establish Case'">
                                        <app-data-entry [FromPage]="dataEntryPageInput" [PageType]="EstablishCasePageInput"
                                        [PageFieldType]="tab.FieldType" [TemplateName]="tab.TabName"
                                        (closeCompleteEventEmitter)="DynamicEntryPageCloseCompleteEventEmitter($event)">
                                        </app-data-entry>
                                    </div>
                                    <!-- Record Split Content ends -->
                                    <!-- Record Split Content Starts -->
                                    <div class="task-tab-height" *ngIf="tab.TabName === 'Record Split'">
                                        <app-data-entry [FromPage]="dataEntryPageInput"  [PageType]="RecordSplitPageInput" [TemplateName]="tab.TabName"
                                        [PageFieldType]="tab.FieldType"
                                        (closeCompleteEventEmitter)="DynamicEntryPageCloseCompleteEventEmitter($event)">
                                        </app-data-entry>
                                    </div>
                                    <!-- Record Split Content ends -->
                                    <!-- Record Listing Content Starts -->
                                    <div class="task-tab-height" *ngIf="tab.TabName === 'Record Listing'">
                                        <app-record-listing [PageFieldType]="tab.FieldType" (closeCompleteEventEmitter)="DynamicEntryPageCloseCompleteEventEmitter($event)">
                                        </app-record-listing>
                                    </div>
                                    <!-- Record Listing Content ends -->
                                    <!-- Summary Output Content Starts -->
                                    <div class="task-tab-height" *ngIf="tab.TabName === 'Summary Output'">
                                        <app-summary-output [PageFieldType]="tab.FieldType" [status]="tab.Status"  (closeCompleteEventEmitter)="DynamicEntryPageCloseCompleteEventEmitter($event)">
                                        </app-summary-output>
                                    </div>
                                    <!-- Summary Output Content ends -->
                                    <!-- case-detail-page Content Starts -->
                                    <div *ngIf="tab.TabName === 'Case Details'">
                                        <app-case-detail-page  [PageFieldType]="tab.FieldType" >
                                        </app-case-detail-page>
                                    </div>
                                    <!-- case-detail-page Content ends -->
                                </ng-template>
                            </mat-tab>
                            <!-- Tab Structure ends -->
                        </mat-tab-group>
                        <app-case-detail-page  [PageFieldType]="'readonly'" >
                        </app-case-detail-page>
                    </div>
                </div>
                <!-- Tabs ends -->
                <!-- Content ends -->
            </div>
        </div>
    </div>
    <!-- Card ends -->
</div>
<!-- Split Screen Starts -->