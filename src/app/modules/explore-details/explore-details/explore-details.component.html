<app-header-apps></app-header-apps>

<div class="col explore-details-modal p-0">
    <!-- Card starts -->
    <div class="row m-0 col-12 p-0">
        <div class="card-body">
            <div class="card-content">
                <div class="row m-0 col-12 card-header">
                    <div class="col-12 p-0 disp-flex">
                        <label class="col ps-0 card-header-lab mb-0">
                            <span>
                                <svg class="card-header-icon" xmlns="http://www.w3.org/2000/svg" width="512"
                                    height="512" fill-rule="evenodd" clip-rule="evenodd"
                                    image-rendering="optimizeQuality" shape-rendering="geometricPrecision"
                                    text-rendering="geometricPrecision" viewBox="0 0 512 512" id="listing">
                                    <path
                                        d="M446.85 511.96l-381.7 0c-5.67,0 -10.27,-4.61 -10.27,-10.27l0 -491.37c0,-5.67 4.61,-10.28 10.27,-10.28l267.4 0c1.6,0 3.12,0.63 4.25,1.76 1.12,1.12 1.75,2.65 1.75,4.24l0 101.89 112.57 0c3.32,0 6,2.69 6,6l0 387.76c0,5.66 -4.6,10.27 -10.27,10.27zm-379.98 -12l378.26 0 0 -380.03 -112.58 0c-3.31,0 -5.99,-2.69 -5.99,-6l0 -101.89 -259.69 0 0 487.92z">
                                    </path>
                                    <path
                                        d="M451.13 119.93l-118.57 0c-3.32 0-6-2.69-6-6l0-107.89c0-2.37 1.4-4.52 3.57-5.48 2.17-.96 4.71-.55 6.46 1.05l118.57 107.88c1.84 1.67 2.45 4.3 1.56 6.61-.89 2.31-3.12 3.83-5.59 3.83zm-112.58-12l97.07 0-97.07-88.32 0 88.32zM270.92 47.45l-148.41 0c-3.31 0-6-2.69-6-6 0-3.31 2.69-6 6-6l148.41 0c3.31 0 6 2.69 6 6 0 3.31-2.69 6-6 6zM270.92 89.11l-148.41 0c-3.31 0-6-2.69-6-6 0-3.31 2.69-6 6-6l148.41 0c3.31 0 6 2.69 6 6 0 3.31-2.69 6-6 6zM198.2 240.96l-101.55 0c-3.31 0-6-2.69-6-6l0-85.93c0-3.31 2.69-6 6-6l101.55 0c3.31 0 6 2.69 6 6l0 85.93c0 3.31-2.69 6-6 6zm-95.55-12l89.55 0 0-73.93-89.55 0 0 73.93z">
                                    </path>
                                    <path
                                        d="M138.03 214.98l0 0c-1.59 0-3.11-.63-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.35-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.12 1.13-2.65 1.76-4.24 1.76zM415.35 178.08l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 218.7l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                    </path>
                                    <g>
                                        <path
                                            d="M198.2 358.91l-101.55 0c-3.31,0 -6,-2.69 -6,-6l0 -85.93c0,-3.31 2.69,-6 6,-6l101.55 0c3.31,0 6,2.69 6,6l0 85.93c0,3.31 -2.69,6 -6,6zm-95.55 -12l89.55 0 0 -73.93 -89.55 0 0 73.93z">
                                        </path>
                                        <path
                                            d="M138.03 332.93c-1.53 0-3.07-.59-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.34-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.17 1.17-2.7 1.76-4.24 1.76zM415.35 296.03l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 336.65l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                        </path>
                                    </g>
                                    <g>
                                        <path
                                            d="M198.2 476.86l-101.55 0c-3.31,0 -6,-2.69 -6,-6l0 -85.93c0,-3.31 2.69,-6 6,-6l101.55 0c3.31,0 6,2.69 6,6l0 85.93c0,3.31 -2.69,6 -6,6zm-95.55 -12l89.55 0 0 -73.93 -89.55 0 0 73.93z">
                                        </path>
                                        <path
                                            d="M138.03 450.88l0 0c-1.59 0-3.11-.63-4.24-1.76l-15.19-15.19c-2.34-2.34-2.34-6.14 0-8.48 2.35-2.34 6.14-2.34 8.49 0l10.94 10.95 29.73-29.73c2.34-2.34 6.14-2.34 8.48 0 2.35 2.34 2.35 6.14 0 8.48l-33.97 33.97c-1.12 1.13-2.65 1.76-4.24 1.76zM415.35 413.98l-171.84 0c-3.32 0-6-2.68-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.32-2.68 6-6 6zM415.35 454.6l-171.84 0c-3.32 0-6-2.69-6-6 0-3.31 2.68-6 6-6l171.84 0c3.32 0 6 2.69 6 6 0 3.31-2.68 6-6 6z">
                                        </path>
                                    </g>
                                </svg>
                            </span><label class="card-header-lab-svg">Explore File Details</label></label>
                        <span class="card-header-back cls2" title="Back to dashboard">
                            <button class="close" type="button" (click)="backToFileList()">
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col p-0">
                    <!--  Split Screen Starts -->
                    <div class="row m-0 col-12 p-0 panel-section">
                        <div id="container_explore">
                            <div id="left_panel_explore" class="ls{{offsetValues}}">
                                <div class="col-12 ps-0 left-panel">
                                    <div class="card-body-panel">
                                        <div class="col-12 card-body-panel-header">
                                            <label class="card-body-panel-header-label">File Data</label>
                                        </div>
                                        <div class="col-12 p-0 card-body-panel-content">
                                            <div class="col-12 navigation-controls p-0 data-base-content-container">
                                                <div class="row m-0 col-12 data-content-container">
                                                    <!-- <div class="col-12 p-0">
                                                        <div class="col data-container-padding"><label
                                                                class="data-content-header"
                                                                aria-describedby="cdk-describedby-message-ng-1-2">File
                                                                Details</label></div>
                                                    </div> -->
                                                    <div class="row m-0 p-0 disp-inline-flex flex-wrap">
                                                        <div class="col-6 p-0 data-base-content-container detail-page-container">
                                                            <div class="row m-0 col-12 p-0">
                                                                <div class="data-container-padding">
                                                                    <div class="fieldtype-label-container p-0"><label
                                                                            class="data-content-label" style="overflow: visible;">File Name:</label>
                                                                        <div class="fieldtype-container p-0"><span
                                                                                class=""><label
                                                                                    class="col-12 p-0 data-content-label">{{batchDetails ? batchDetails[0]?.['File Details']?.['Original File Name'] : ''}}</label></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-6 p-0 data-base-content-container detail-page-container">
                                                            <div class="row m-0 col-12 p-0">
                                                                <div class="data-container-padding">
                                                                    <div class="fieldtype-label-container p-0"><label
                                                                            class="data-content-label" style="overflow: visible;">Batch:</label>
                                                                        <div class="fieldtype-container p-0"><span
                                                                                class=""><label
                                                                                    title="{{batchDetails ? batchDetails[0]?.['Batch Details']['Batch Number'] : ''}}"  class="col-12 p-0 data-content-label">{{batchDetails ? batchDetails[0]?.['Batch Details']['Batch Number'] : ''}}</label></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>                                                        
                                                    </div>

                                                    <div class="row m-0 p-0 disp-inline-flex">
                                                        <div class="col-6 p-0 data-base-content-container detail-page-container">
                                                            <div class="row m-0 col-12 p-0">
                                                                <div class="data-container-padding">
                                                                    <div class="fieldtype-label-container p-0"><label
                                                                            class="data-content-label" style="overflow: visible;">File Processing Status:</label>
                                                                        <div class="fieldtype-container p-0"><span
                                                                                class=""><label
                                                                                    class="col-12 p-0 data-content-label">{{batchDetails ? batchDetails[0]?.['File Details']?.['File Processing Status'] : ''}}</label></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-6 p-0 data-base-content-container detail-page-container">
                                                            <div class="row m-0 col-12 p-0">
                                                                <div class="data-container-padding">
                                                                    <div class="fieldtype-label-container p-0"><label
                                                                            class="data-content-label" style="overflow: visible;">File Business Status:
                                                                        </label>
                                                                        <div class="fieldtype-container p-0"><span
                                                                                class=""><label
                                                                                    class="col-12 p-0 data-content-label">{{batchDetails ? batchDetails[0]?.['File Details']?.['File Business Status']: ''}}</label></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="col-12 m-0 p-0 disp-inline-flex flex-wrap">
                                                        <div class="data-base-content-container detail-page-container">
                                                            <div class="row m-0 col-12 p-0">
                                                                <div class="data-container-padding">
                                                                    <div class="fieldtype-label-container p-0"><label
                                                                            class="data-content-label" style="overflow: visible;">File Folder Path:</label>
                                                                        <div class="fieldtype-container p-0"><span
                                                                                class=""><label title="{{batchDetails ? batchDetails[0]?.['Batch Details']['File Folder Path'] : ''}}"
                                                                                    class="col-12 p-0 data-content-label">{{batchDetails ? batchDetails[0]?.['Batch Details']['File Folder Path'] : ''}}</label></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <span
                                                    class="col-12 pt-1 text-center pe-0 navigation-controls-container">
                                                    <span class="navigation-controls-container-set">
                                                        <button class="navigation-button" title="First Record" (click)="firstNavPage()"><i
                                                                class="fas fa-fast-backward"></i></button>
                                                        <button class="navigation-button ms-0" title="Previous"><i
                                                                class="fas fa-step-backward" (click)="prevNav()"></i></button>
                                                        <span>
                                                            <label class="navigation-control-value ps-1">{{fileIndex+1}}/{{totalFiles}}</label>
                                                        </span>
                                                        <button class="navigation-button" title="Next"><i
                                                                class="fa fa-step-forward" (click)="nextNav()"></i></button>
                                                        <button class="navigation-button ms-0 me-1"
                                                            title="Last Record" (click)="lastNavPage()"><i
                                                                class="fas fa-fast-forward"></i></button>
                                                    </span>
                                                </span>
                                            </div>
                                            <!-- Tree structure starts -->
                                            <div class="col-12 case-accordion mb-2">
                                                <button class="row m-0 accordion-header" (click)="accordianOpen = !accordianOpen">
                                                    <h6 class="col text-start"> File Attributes 
                                                    </h6>
                                                    <span class="col text-end"><i
                                                            [ngClass]="accordianOpen === true ? 'fas fa-caret-down' : 'fas fa-caret-right'"></i></span>
                                                </button>
                                                <div [ngClass]="accordianOpen === true ? 'col-12 accordion-content pt-0 pb-0' : 'col-12 accordion-content-none'">                                    
                                            <!-- First set starts -->
                                            <div class="row m-0 auto-scl-inp2 adc-accordion-parent">
                                                <div class="row col-12 m-0  adc-accordion-main">
                                                    <span class="text-center collpse-wdth">
                                                        <i class="fas fa-caret-down"></i>
                                                    </span>
                                                    <label class="col p-0 lab-bckg adc-tree-lab-main ">
                                                        File Details
                                                    </label>
                                                </div>
                                                <div class="accordionfirst-show w-100 brd-scnd-btm">
                                                    <div class="row col-12  sub-child pe-0">
                                                        <div class="row p-0 m-0 w-100 sub-child-field">
                                                            <span class="text-center collpse-wdth" style="visibility:hidden">
                                                                <i class="fas fa-caret-down"></i>
                                                            </span>
                                                            <label class="col-lg-4 p-0 lab-bckg adc-tree-lab-main ">
                                                                File Document Type
                                                            </label>
                                                            <div class="col p-0 dis-in-fl score-inp">
                                                                <!-- <span class="lab-wid visibility-hidden">
                                                                    <span class="bckg-blue">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span> -->
                                                                <span class="lab-wid" [ngClass]="batchDetails[0]?.['TORConfScore'] ? '' : 'visibility-hidden'">
                                                                    <span [ngClass]="batchDetails[0]?.['TORConfScore'] == 'Green' ? 'bckg-green' :  batchDetails[0]?.['TORConfScore'] == 'Amber' ? 'bckg-yellow' : batchDetails[0]?.['TORConfScore'] == 'Red' ? 'bckg-red' : 'bckg-edited'">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span>
                                                                <!-- <input *ngIf="!showDocTypeDropdown" [ngClass]="(isThumbsDown && this.batchDetails[0]?.['TOR'] == 'Welcome Letter' && batchDetails[0]?.['File Details']['File Business Status'] == 'Audit Completed') ? 'inp-scnd data-content-input border-red' : (!this.isThumbsDown && this.batchDetails[0]?.['TOR'] == 'Welcome Letter' && batchDetails[0]?.['File Details']['File Business Status'] == 'Audit Completed') ? 'inp-scnd data-content-input border-green' : (this.isThumbsDown && (this.batchDetails[0]?.['TOR'] == 'Not-Classified' || this.batchDetails[0]?.['TOR'] == 'Not-Processed') && batchDetails[0]?.['File Details']['File Business Status'] == 'Audit Completed') ? 'inp-scnd data-content-input border-green' : 'inp-scnd data-content-input'"  readonly title="{{batchDetails ? batchDetails[0]?.['TOR'] : ''}}"  value="{{batchDetails ? batchDetails[0]?.['TOR'] : ''}}" type='text'> -->
                                                                <select class="data-content-select"  name="dropdownSelectedValue" [(ngModel)]="batchDetails[0]['TOR']"  (ngModelChange)="torChange($event)">
                                                                      <option [value]="batchDetails[0]['TOR']"
                                                                            *ngIf="torListings.indexOf(batchDetails[0]?.['TOR']) === -1" hidden>
                                                                        {{ batchDetails[0]['TOR'] }}
                                                                    </option>
                                                                    <option [value]="item" *ngFor="let item of torListings">{{item}}</option>
                                                                </select>
                                                                <button class="btn-grid-action" *ngIf="batchDetails[0]?.['TOR'] != 'Not-Processed'" (click)="toggleThumbsDown(batchDetails[0]?.['File Details']['File Business Status'], batchDetails[0]?.['TOR'])">
                                                                    <i 
                                                                      class="fa-thumbs-down" 
                                                                      [ngClass]="{
                                                                        'fa-solid thumb-active': isThumbsDown, 
                                                                        'fa-regular': !isThumbsDown
                                                                      }"
                                                                      title="Disapprove"
                                                                    ></i>
                                                                  </button>
                                                                  
                                                                  
                                                            </div>
                                                        </div>
                                                        <div class="row p-0 m-0 w-100 sub-child-field" *ngIf="batchDetails[0]?.['File Details']?.['Rename File Name']">
                                                            <span class="text-center collpse-wdth" style="visibility:hidden">
                                                                <i class="fas fa-caret-down"></i>
                                                            </span>
                                                            <label class="col-4 p-0 lab-bckg adc-tree-lab-main ">
                                                                Renamed File Name
                                                            </label>
                                                            <div class="col p-0 dis-in-fl score-inp">
                                                                <span class="lab-wid visibility-hidden">
                                                                    <span class="bckg-blue">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span>
                                                                <label class="label-font-size">{{batchDetails ? batchDetails[0]?.['File Details']['Rename File Name'] : ''}}</label>
                                                                <!-- <input class="inp-scnd data-content-textarea" title="{{batchDetails ? batchDetails[0]?.['File Details']['Rename File Name'] : ''}}" readonly value="{{batchDetails ? batchDetails[0]?.['File Details']['Rename File Name'] : ''}}" type='text'> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 2 -->
                                            <div class="row m-0 auto-scl-inp2 adc-accordion-parent" *ngIf="batchDetails[0]?.['Record Details']?.length != 0 && batchDetails[0]?.['TOR'] != 'Non-Relevant Page'">
                                                <div class="row col-12 m-0  adc-accordion-main">
                                                    <span class="text-center collpse-wdth">
                                                        <i class="fas fa-caret-down"></i>
                                                    </span>
                                                    <label class="col p-0 lab-bckg adc-tree-lab-main ">
                                                        Record Details
                                                    </label>
                                                </div>
                                                <div class="accordionfirst-show w-100 brd-scnd-btm">
                                                    <div class="row col-12  sub-child pe-0">
                                                        <div class="row p-0 m-0 w-100 sub-child-field" *ngFor="let item of batchDetails[0]?.['Record Details']">
                                                            <span class="text-center collpse-wdth" style="visibility:hidden">
                                                                <i class="fas fa-caret-down"></i>
                                                            </span>
                                                            <label class="col-4 p-0 lab-bckg adc-tree-lab-main ">
                                                                {{item.Key}}
                                                                <span *ngIf="item.IsMandatory === 'Y'" class="text-danger">*</span>
                                                            </label>
                                                            <div class="col p-0 dis-in-fl score-inp">
                                                                <span class="lab-wid" [ngClass]="item['Confidence Score'] ? '' : 'visibility-hidden'">
                                                                    <span [ngClass]="item['Confidence Score'] == 'Green' ? 'bckg-green' :  item['Confidence Score'] == 'Amber' ? 'bckg-yellow' : item['Confidence Score'] == 'Red' ? 'bckg-red' : 'bckg-edited'">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span>
                                                                <input  title="{{item.Value}}" [readonly]="item.Key == 'Type of Record' || batchDetails[0]?.['File Details']?.['File Business Status'] == 'Audit Completed'" [ngClass]="item.borderColor == 'Red' ? 'inp-scnd data-content-input border-red' : item.borderColor == 'Green' ? 'inp-scnd data-content-input border-green' : 'inp-scnd data-content-input'"    
                                                                (click)="highlightBox(item)"  (keyup.Tab)="highlightBox(item)" [(ngModel)]="item.Value"   value="{{item.Value}}" type='text'>
                                                            </div>
                                                        </div>                                                       
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 3 -->
                                            <div class="row m-0 auto-scl-inp2 adc-accordion-parent" *ngIf="(batchDetails[0]?.['Error Details']?.['Error Category'] && batchDetails[0]?.['File Details']?.['File Business Status'] != 'Audit Completed') && batchDetails[0]?.['TOR'] != 'Non-Relevant Page'">
                                                <div class="row col-12 m-0  adc-accordion-main">
                                                    <span class="text-center collpse-wdth">
                                                        <i class="fas fa-caret-down"></i>
                                                    </span>
                                                    <label class="col p-0 lab-bckg adc-tree-lab-main ">
                                                       Processing Error Details
                                                    </label>
                                                </div>
                                                <div class="accordionfirst-show w-100 brd-scnd-btm">
                                                    <div class="row col-12  sub-child pe-0">
                                                        <div class="row p-0 m-0 w-100 sub-child-field">
                                                            <span class="text-center collpse-wdth" style="visibility:hidden">
                                                                <i class="fas fa-caret-down"></i>
                                                            </span>
                                                            <label class="col-4 p-0 lab-bckg adc-tree-lab-main ">
                                                                Error Category
                                                            </label>
                                                            <div class="col p-0 dis-in-fl score-inp">
                                                                <span class="lab-wid visibility-hidden">
                                                                    <span class="bckg-blue">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span>
                                                                <label class="label-font-size">{{batchDetails ? batchDetails[0]?.['Error Details']?.['Error Category'] : ''}}</label>
                                                                <!-- <input class="inp-scnd data-content-textarea" title="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Category'] : ''}}" readonly value="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Category'] : ''}}" type='text'> -->
                                                            <!-- <textarea class="inp-scnd data-content-textarea" name="" id=""  value="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Category'] : ''}}"></textarea> -->
                                                            </div>
                                                        </div>
                                                        <div class="row p-0 m-0 w-100">
                                                            <span class="text-center collpse-wdth" style="visibility:hidden">
                                                                <i class="fas fa-caret-down"></i>
                                                            </span>
                                                            <label class="col-4 p-0 lab-bckg adc-tree-lab-main ">
                                                                Error Name
                                                            </label>
                                                            <div class="col p-0 dis-in-fl score-inp">
                                                                <span class="lab-wid visibility-hidden">
                                                                    <span class="bckg-blue">
                                                                        <i class="fa fa-robot"></i>
                                                                    </span>
                                                                </span>
                                                                <label class="label-font-size">{{batchDetails ? batchDetails[0]?.['Error Details']['Error Name'] : ''}}</label>
                                                                <!-- <input class="inp-scnd data-content-textarea" title="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Name'] : ''}}" readonly value="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Name'] : ''}}" type='text'> -->
                                                            <!-- <textarea class="inp-scnd data-content-textarea" name="" id=""  value="{{batchDetails ? batchDetails[0]?.['Error Details']['Error Name'] : ''}}"></textarea> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- First set ends -->
                                             <br>
                                             <div class="col-12 ps-0 text-end" *ngIf="batchDetails[0]?.['File Details']?.['File Business Status'] != 'Audit Completed'">
                                                <span *ngIf="batchDetails[0]?.['File Details']?.['File Business Status'] == 'Pending Audit'">
                                                    <button class="btn btn-primary" [disabled]="disableReviewBtn" *ngIf="isThumbsDown && (batchDetails[0]['TOR'] != originalBatchDetails[0]['TOR']) && (batchDetails[0]?.['TOR'] != 'Non-Relevant Page' && batchDetails[0]?.['TOR'] != 'Not-Processed' && batchDetails[0]?.['TOR'] != 'Not-Classified')" (click)="reProcessFile(batchDetails[0]?.['Record Details'])" title="Reprocess">Reprocess</button>
                                                </span>
                                                <button class="btn btn-primary" (click)="saveAttributes(batchDetails[0]?.['Record Details'])" title="Audit Complete">Audit Complete</button>
                                             </div>

                                                </div>
                                            </div>
                                            <!-- Tree structure ends -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="right_panel_explore" class="rs{{offsetValues}}">
                                <div id="drag_explore" class="drag-knob"></div>
                                <div class="col-12 p-0 right-panel">
                                    <div class="row m-0 pdf-thumb">
                                    <div class="col p-0 pdf-normal-project-view">
                                    <div class="card-body-panel pdf-viewer">
                                        <!-- <div class="drag-knob"></div> -->
                                        <div class="row m-0">
                                            <div class="col-12 p-0 pdf-viewer-toolbar-container" *ngIf="!showInvalidFormat">
                                                <div class="col-12 pdf-viewer-toolbar">
                                                    <label class="pdf-name">{{batchDetails ? batchDetails[0]?.['File Details']?.['Original File Name'] : ''}}</label>
                                                    <!-- Pdf icon starts -->
                                                    <span class="col pdf-icon-container pe-0">
                                                        <span class="pdf-icon-space">
                                                            <span class="pdf-icon" title="Page up">
                                                                <i class="uil uil-arrow-circle-up"></i>
                                                            </span>
                                                            <span class="pdf-icon" title="Page down">
                                                                <i class="uil uil-arrow-circle-down"></i>
                                                            </span>
                                                        </span>
                                                        <span class="pdf-pages">
                                                            <span class="inputBox">
                                                                <input type="text" readonly class="input-enter" value="1">
                                                            </span>
                                                            <label class="total-pages">/ 1</label>
                                                        </span>
                                                        <span class="pdf-icon-space zoom-icons">
                                                            <span class="pdf-icon" title="Zoom Out" (click)="zoomImage(-0.1)">
                                                                <i class="uil uil-minus-circle"></i>
                                                            </span>
                                                            <span class="pdf-icon" title="Zoom in" (click)="zoomImage(0.1)">
                                                                <i class="uil uil-plus-circle"></i>
                                                            </span>
                                                        </span>
                                                        <span class="pdf-icon rotate-icon" title="Rotate Clockwise" (click)="rotateImage()">
                                                            <svg width="26" height="26" viewBox="0 0 26 26" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M14.8086 3.58875C14.183 3.58875 13.5558 3.82519 13.0837 4.29807L4.29814 13.0844C3.84414 13.5431 3.58948 14.1624 3.58948 14.8078C3.58948 15.4531 3.84414 16.0724 4.29814 16.5311L9.46889 21.7018C9.92756 22.1558 10.5468 22.4105 11.1922 22.4105C11.8376 22.4105 12.4569 22.1558 12.9155 21.7018L21.7019 12.9163C22.156 12.4573 22.4107 11.8378 22.4107 11.1921C22.4107 10.5465 22.156 9.92694 21.7019 9.468L16.532 4.29807C16.3056 4.07236 16.0369 3.89353 15.7414 3.77181C15.4458 3.6501 15.1283 3.58789 14.8086 3.58875ZM14.8086 5.20075C15.0142 5.20075 15.219 5.282 15.3831 5.44694L20.553 10.6169C20.6308 10.6909 20.6928 10.7801 20.7352 10.8788C20.7775 10.9776 20.7993 11.0839 20.7993 11.1913C20.7993 11.2988 20.7775 11.4051 20.7352 11.5038C20.6928 11.6026 20.6308 11.6917 20.553 11.7658L19.9786 12.3402L13.6598 6.02138L14.2342 5.44694C14.3089 5.36991 14.3981 5.30848 14.4967 5.26622C14.5953 5.22396 14.7014 5.20171 14.8086 5.20075ZM12.5109 7.17025L18.8297 13.4891L13.49 18.8296L7.17114 12.51L12.5109 7.17025ZM6.02227 13.6581L12.3411 19.9777L11.7666 20.5521C11.6926 20.63 11.6035 20.6919 11.5047 20.7343C11.406 20.7766 11.2996 20.7984 11.1922 20.7984C11.0848 20.7984 10.9784 20.7766 10.8797 20.7343C10.7809 20.6919 10.6918 20.63 10.6178 20.5521L5.44783 15.3814C5.37 15.3073 5.30803 15.2182 5.26569 15.1194C5.22335 15.0207 5.20152 14.9144 5.20152 14.8069C5.20152 14.6995 5.22335 14.5932 5.26569 14.4944C5.30803 14.3957 5.37 14.3066 5.44783 14.2325L6.02227 13.6581Z"
                                                                    fill="#7D7D7D" />
                                                                <path
                                                                    d="M23.3862 13.8255C23.1993 13.8365 23.0219 13.9118 22.8841 14.0385C22.7463 14.1652 22.6564 14.3357 22.6298 14.521C22.3089 16.5583 21.3499 18.4413 19.8909 19.899C18.4319 21.3566 16.5481 22.3139 14.5105 22.633C14.4051 22.6495 14.3039 22.6867 14.2129 22.7423C14.1218 22.7979 14.0426 22.8709 13.9797 22.9572C13.9169 23.0434 13.8717 23.1412 13.8466 23.2449C13.8215 23.3486 13.8171 23.4563 13.8337 23.5617C13.8502 23.6671 13.8874 23.7682 13.943 23.8593C13.9986 23.9504 14.0716 24.0296 14.1578 24.0924C14.2441 24.1553 14.3419 24.2005 14.4456 24.2256C14.5493 24.2507 14.6569 24.255 14.7624 24.2385C17.1389 23.8645 19.3359 22.7471 21.038 21.0468C22.74 19.3465 23.8596 17.1507 24.2361 14.7745C24.2569 14.6538 24.2502 14.5299 24.2163 14.4121C24.1825 14.2943 24.1224 14.1858 24.0407 14.0945C23.9589 14.0032 23.8576 13.9316 23.7443 13.885C23.6309 13.8384 23.5085 13.8181 23.3862 13.8255ZM11.241 1.75988C8.86501 2.13436 6.66876 3.25195 4.96744 4.95225C3.26612 6.65255 2.14721 8.84813 1.7713 11.2239C1.56168 12.3232 3.23624 12.5881 3.37599 11.4782C3.6966 9.44082 4.65534 7.5577 6.11422 6.09984C7.5731 4.64198 9.45689 3.68457 11.4945 3.36538C12.5889 3.13707 12.2745 1.62257 11.2426 1.75988H11.241Z"
                                                                    fill="#7D7D7D" />
                                                            </svg>
                                                        </span>                                                    
                                                    </span>
                                                    <!-- Pdf icon ends -->
                                                    <!-- Navigation Controls Starts -->
                                                    <!-- <span
                                                    class="text-center pe-0 navigation-controls-container">
                                                    <span class="navigation-controls-container-set">
                                                        <button class="navigation-button" title="First Record" (click)="firstNavPage()"><i
                                                                class="fas fa-fast-backward"></i></button>
                                                        <button class="navigation-button ms-0" title="Previous"><i
                                                                class="fas fa-step-backward" (click)="prevNav()"></i></button>
                                                        <span>
                                                            <label class="navigation-control-value ps-1">{{fileIndex+1}}/{{totalFiles}}</label>
                                                        </span>
                                                        <button class="navigation-button" title="Next"><i
                                                                class="fa fa-step-forward" (click)="nextNav()"></i></button>
                                                        <button class="navigation-button ms-0 me-1"
                                                            title="Last Record" (click)="lastNavPage()"><i
                                                                class="fas fa-fast-forward"></i></button>
                                                    </span>
                                                    </span> -->
                                                    <!-- Navigation Controls Ends -->
                                                </div>
                                            </div>
                                            <!-- Tiff Viewer Starts -->
                                            <div class="tiff-viewer" *ngIf="!showInvalidFormat && showTiffViewer">
                                                <div [ngClass]="(showTiffViewer)? 'grey-non' : 'grey-bg'" style="position: relative;">
                                                    <div class="image-container " [style.transform]="transform" [style.transition]="'transform 0.3s ease-in-out'">
                                                        <img [src]="convertedImageUrl" style="height: 100%; width: 100%;" class="img-size mt-2 pt-1" alt="" />
                                                      </div>
                                                </div>
                                            </div>                                    
                                            <!-- Tiff Viewer Ends -->
                                             <div class="error-message-pdf" *ngIf="showInvalidFormat && showTiffViewer">
                                                <p>Invalid File Format</p>
                                             </div>
                                        </div>
                                    </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Alert modal Starts -->
<div id="savealert" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Audit Pending</p>
        <div class="modal-body short-simple-content">
          <!-- <p class="message-content"> {{errorMsgFailedCase}}</p> -->
          <span>
            <p class="text-offset-2"><i class="fas fa-exclamation-triangle warning"></i><span class="icon-text">Audit Pending for this file</span></p>
            <p class="text-offset-3a mb-0">Would you like to complete the audit?</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
            (click)="auditConfirm()">Yes</button>
            <button  type="button" class="btn btn-primary modal-cancel me-0"
            (click)="cancelAudit()" data-bs-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Alert modal Ends -->

  <div id="auditComplete" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Audit Pending</p>
        <div class="modal-body short-simple-content">
          <!-- <p class="message-content"> {{errorMsgFailedCase}}</p> -->
          <span>
            <p class="text-offset-2"><i class="fas fa-exclamation-triangle warning"></i><span class="icon-text">Audit Pending for this file</span></p>
            <p class="text-offset-3a mb-0">Would you like to complete the audit?</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
            (click)="auditConfirmComplete()">Yes</button>
            <button  type="button" class="btn btn-primary modal-cancel me-0"
            (click)="cancelAuditComplete()" data-bs-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>

  <div id="saveSuccess" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Audit Complete</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0">Audit Completed Successfully</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList #okButton type="button" class="btn btn-primary me-0" (click)="saveSuccessAudit()"
          data-bs-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>

  <div id="reprocessbatch" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">{{msgHeader}}</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0">{{alertMsg}}</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList #okButton type="button" class="btn btn-primary me-0" (click)="reprocessBatch()"
          data-bs-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>

  <div id="validateAlert" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Validation</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0" id="validateAlertMessage"></p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
          data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div id="validateTor" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Validation</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0">Please choose a different document type before completing the audit.</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
          data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

    <div id="validateTorReprocess" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Validation</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0">Please choose a different Document type to reprocess the file</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
          data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div id="unsavedChange" class="modal fade form-modal custom-modal flipIn info-alert-modal" role="dialog" data-bs-backdrop="static">
    <div class="modal-dialog simple-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="fa-regular fa-bell"></i>Alert</h4>
          <div class="col cls2">
            <button  class="close" data-bs-dismiss="modal" type="button"></button>
          </div>
        </div>
        <!-- <hr class="hr-nova-d"> -->
        <p class="text-offset-1 pt-2 pb-2 ps-4 pe-4 m-0">Unsaved Data</p>
        <div class="modal-body short-simple-content">
          <span>
            <p class="text-offset-3a mb-0">You have unsaved changes. Are you sure you want to navigate?.</p>
          </span>
        </div>
        <div class="modal-footer">
          <button id=bckToTaskList type="button" class="btn btn-primary me-0"
          data-bs-dismiss="modal" (click)="navigateNextLevel()">Yes</button>
          <button id=bckToTaskList type="button" class="btn btn-secondary me-0"
          data-bs-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>