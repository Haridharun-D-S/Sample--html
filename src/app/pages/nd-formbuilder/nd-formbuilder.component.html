<div class="container">
  <!-- Sidebar with draggable form elements -->
  <div class="sidebar">
    <h2>  Form Elements</h2>
    <div class="form-elements">
      <div class="draggable-item" 
           draggable="true" 
           data-type="text"
           (dragstart)="onDragStart($event)">
        ğŸ“ Text Input
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="email"
           (dragstart)="onDragStart($event)">
        ğŸ“§ Email Input
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="tel"
           (dragstart)="onDragStart($event)">
        ğŸ“ Phone Input
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="textarea"
           (dragstart)="onDragStart($event)">
        ğŸ“„ Text Area
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="select"
           (dragstart)="onDragStart($event)">
        ğŸ“‹ Dropdown
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="checkbox"
           (dragstart)="onDragStart($event)">
        â˜‘ï¸ Checkbox
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="radio"
           (dragstart)="onDragStart($event)">
        ğŸ”˜ Radio Button
      </div>
      <div class="draggable-item" 
           draggable="true" 
           data-type="date"
           (dragstart)="onDragStart($event)">
        ğŸ“… Date Picker
      </div>
    </div>
  </div>

  <!-- Canvas area -->
  <div class="canvas-wrapper">
    <div class="canvas-header">
      <h1>Form Builder</h1>
      <div class="btn-group">
        <button class="btn btn-secondary" (click)="clearForm()">Clear All</button>
        <button class="btn btn-primary" (click)="generateCode()">Get Code</button>
      </div>
    </div>

    <div class="form-canvas" 
         [class.empty]="formElements.length === 0"
         [class.drag-over]="false"
         id="formCanvas"
         (dragover)="onDragOver($event)"
         (dragleave)="onDragLeave($event)"
         (drop)="onDrop($event)">
      
      <!-- Display form elements -->
      <div *ngFor="let element of formElements" class="form-element">
        <div class="element-header">
          <span class="element-label">{{ element.label }}</span>
          <div class="element-controls">
            <button class="control-btn edit" 
                    (click)="toggleConfig(element)" 
                    title="Edit">âš™ï¸</button>
            <button class="control-btn delete" 
                    (click)="deleteElement(element)" 
                    title="Delete">ğŸ—‘ï¸</button>
          </div>
        </div>

        <!-- Configuration panel -->
        <div class="field-config" [id]="'config-' + element.id">
          <div class="config-row">
            <span class="config-label">Field Name:</span>
            <input type="text" class="config-input field-name" [value]="element.fieldName">
          </div>
          <div class="config-row">
            <span class="config-label">Label:</span>
            <input type="text" class="config-input field-label" [value]="element.label">
          </div>
          <div class="config-row" *ngIf="element.type !== 'select' && element.type !== 'checkbox' && element.type !== 'radio' && element.type !== 'date'">
            <span class="config-label">Placeholder:</span>
            <input type="text" class="config-input field-placeholder" [value]="element.placeholder">
          </div>
          <div class="config-actions">
            <button class="config-btn cancel" (click)="cancelConfig(element)">Cancel</button>
            <button class="config-btn save" (click)="saveConfig(element)">Save</button>
          </div>
        </div>

        <!-- Display form field based on type -->
        <div [ngSwitch]="element.type">
          <!-- Text Input -->
          <input *ngSwitchCase="'text'" 
                 type="text" 
                 [placeholder]="element.placeholder">

          <!-- Email Input -->
          <input *ngSwitchCase="'email'" 
                 type="email" 
                 [placeholder]="element.placeholder">

          <!-- Phone Input -->
          <input *ngSwitchCase="'tel'" 
                 type="tel" 
                 [placeholder]="element.placeholder">

          <!-- Textarea -->
          <textarea *ngSwitchCase="'textarea'" 
                    [placeholder]="element.placeholder"></textarea>

          <!-- Select Dropdown -->
          <select *ngSwitchCase="'select'">
            <option>Option 1</option>
            <option>Option 2</option>
            <option>Option 3</option>
          </select>

          <!-- Checkbox Group -->
          <div *ngSwitchCase="'checkbox'" class="checkbox-group">
            <div class="checkbox-item">
              <input type="checkbox" [id]="element.id + '-1'">
              <label [for]="element.id + '-1'">Option 1</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" [id]="element.id + '-2'">
              <label [for]="element.id + '-2'">Option 2</label>
            </div>
          </div>

          <!-- Radio Button Group -->
          <div *ngSwitchCase="'radio'" class="radio-group">
            <div class="radio-item">
              <input type="radio" [name]="element.id" [id]="element.id + '-1'">
              <label [for]="element.id + '-1'">Option 1</label>
            </div>
            <div class="radio-item">
              <input type="radio" [name]="element.id" [id]="element.id + '-2'">
              <label [for]="element.id + '-2'">Option 2</label>
            </div>
          </div>

          <!-- Date Picker -->
          <input *ngSwitchCase="'date'" type="date">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Code Modal -->
<div class="modal" [class.active]="showCodeModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Generated HTML, CSS & TypeScript</h2>
      <button class="close-btn" (click)="closeModal()">&times;</button>
    </div>
    <div class="code-output">{{ generatedCode }}</div>
    <button class="btn btn-primary" style="margin-top: 20px; width: 100%;" (click)="copyCode()">
      Copy Code
    </button>
  </div>
</div>