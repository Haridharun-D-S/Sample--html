<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag & Drop Form Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            height: calc(100vh - 40px);
        }

        .sidebar {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow-y: auto;
        }

        .sidebar h2 {
            margin-bottom: 20px;
            color: #333;
            font-size: 20px;
        }

        .form-elements {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .draggable-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: move;
            text-align: center;
            font-weight: 500;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .draggable-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .draggable-item:active {
            cursor: grabbing;
        }

        .canvas-wrapper {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow-y: auto;
        }

        .canvas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .canvas-header h1 {
            color: #333;
            font-size: 24px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .form-canvas {
            min-height: 400px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            background: #fafafa;
        }

        .form-canvas.drag-over {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .form-canvas.empty::before {
            content: 'Drag form elements here';
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            color: #999;
            font-size: 18px;
        }

        .form-element {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
            transition: all 0.2s;
        }

        .form-element:hover {
            border-color: #667eea;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.2);
        }

        .form-element.dragging {
            opacity: 0.5;
        }

        .element-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .element-label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .element-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .control-btn:hover {
            background: #f0f0f0;
        }

        .control-btn.delete {
            color: #e74c3c;
        }

        .control-btn.edit {
            color: #667eea;
        }

        .field-config {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 12px;
            display: none;
        }

        .field-config.active {
            display: block;
        }

        .config-row {
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .config-row:last-child {
            margin-bottom: 0;
        }

        .config-label {
            font-size: 13px;
            font-weight: 500;
            color: #555;
        }

        .config-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
        }

        .config-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .config-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 10px;
        }

        .config-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            font-weight: 500;
        }

        .config-btn.save {
            background: #667eea;
            color: white;
        }

        .config-btn.cancel {
            background: #e0e0e0;
            color: #333;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input[type="checkbox"],
        input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        .close-btn:hover {
            color: #333;
        }

        .code-output {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            max-height: 60vh;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>Form Elements</h2>
            <div class="form-elements">
                <div class="draggable-item" draggable="true" data-type="text">
                    üìù Text Input
                </div>
                <div class="draggable-item" draggable="true" data-type="email">
                    üìß Email Input
                </div>
                <div class="draggable-item" draggable="true" data-type="tel">
                    üìû Phone Input
                </div>
                <div class="draggable-item" draggable="true" data-type="textarea">
                    üìÑ Text Area
                </div>
                <div class="draggable-item" draggable="true" data-type="select">
                    üìã Dropdown
                </div>
                <div class="draggable-item" draggable="true" data-type="checkbox">
                    ‚òëÔ∏è Checkbox
                </div>
                <div class="draggable-item" draggable="true" data-type="radio">
                    üîò Radio Button
                </div>
                <div class="draggable-item" draggable="true" data-type="date">
                    üìÖ Date Picker
                </div>
            </div>
        </div>

        <div class="canvas-wrapper">
            <div class="canvas-header">
                <h1>Form Builder</h1>
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="clearForm()">Clear All</button>
                    <button class="btn btn-primary" onclick="generateCode()">Get Code</button>
                </div>
            </div>
            <div class="form-canvas empty" id="formCanvas"></div>
        </div>
    </div>

    <div class="modal" id="codeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Generated HTML & CSS</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="code-output" id="codeOutput"></div>
            <button class="btn btn-primary" style="margin-top: 20px; width: 100%;" onclick="copyCode()">Copy Code</button>
        </div>
    </div>

    <script>
        let draggedElement = null;
        let elementCounter = 0;

        // Sidebar drag events
        document.querySelectorAll('.draggable-item').forEach(item => {
            item.addEventListener('dragstart', (e) => {
                draggedElement = e.target;
                e.dataTransfer.effectAllowed = 'copy';
            });
        });

        // Canvas drop events
        const canvas = document.getElementById('formCanvas');

        canvas.addEventListener('dragover', (e) => {
            e.preventDefault();
            canvas.classList.add('drag-over');
        });

        canvas.addEventListener('dragleave', () => {
            canvas.classList.remove('drag-over');
        });

        canvas.addEventListener('drop', (e) => {
            e.preventDefault();
            canvas.classList.remove('drag-over');
            
            if (draggedElement && draggedElement.classList.contains('draggable-item')) {
                const type = draggedElement.dataset.type;
                addFormElement(type);
            }
        });

        function addFormElement(type) {
            canvas.classList.remove('empty');
            const id = `element-${elementCounter++}`;
            const element = document.createElement('div');
            element.className = 'form-element';
            element.draggable = true;
            element.dataset.type = type;
            element.dataset.id = id;
            element.dataset.fieldname = getDefaultFieldName(type);
            element.dataset.label = getDefaultLabel(type);
            element.dataset.placeholder = getDefaultPlaceholder(type);

            let content = '';
            const fieldName = element.dataset.fieldname;
            const label = element.dataset.label;
            const placeholder = element.dataset.placeholder;

            switch(type) {
                case 'text':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Placeholder:</span>
                                <input type="text" class="config-input field-placeholder" value="${placeholder}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <input type="text" placeholder="${placeholder}">
                    `;
                    break;
                case 'email':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Placeholder:</span>
                                <input type="text" class="config-input field-placeholder" value="${placeholder}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <input type="email" placeholder="${placeholder}">
                    `;
                    break;
                case 'tel':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Placeholder:</span>
                                <input type="text" class="config-input field-placeholder" value="${placeholder}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <input type="tel" placeholder="${placeholder}">
                    `;
                    break;
                case 'textarea':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Placeholder:</span>
                                <input type="text" class="config-input field-placeholder" value="${placeholder}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <textarea placeholder="${placeholder}"></textarea>
                    `;
                    break;
                case 'select':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <select>
                            <option>Option 1</option>
                            <option>Option 2</option>
                            <option>Option 3</option>
                        </select>
                    `;
                    break;
                case 'checkbox':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="${id}-1">
                                <label for="${id}-1">Option 1</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="${id}-2">
                                <label for="${id}-2">Option 2</label>
                            </div>
                        </div>
                    `;
                    break;
                case 'radio':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="${id}" id="${id}-1">
                                <label for="${id}-1">Option 1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="${id}" id="${id}-2">
                                <label for="${id}-2">Option 2</label>
                            </div>
                        </div>
                    `;
                    break;
                case 'date':
                    content = `
                        <div class="element-header">
                            <span class="element-label">${label}</span>
                            <div class="element-controls">
                                <button class="control-btn edit" onclick="toggleConfig(this)" title="Edit">‚öôÔ∏è</button>
                                <button class="control-btn delete" onclick="deleteElement(this)" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="field-config">
                            <div class="config-row">
                                <span class="config-label">Field Name:</span>
                                <input type="text" class="config-input field-name" value="${fieldName}">
                            </div>
                            <div class="config-row">
                                <span class="config-label">Label:</span>
                                <input type="text" class="config-input field-label" value="${label}">
                            </div>
                            <div class="config-actions">
                                <button class="config-btn cancel" onclick="cancelConfig(this)">Cancel</button>
                                <button class="config-btn save" onclick="saveConfig(this)">Save</button>
                            </div>
                        </div>
                        <input type="date">
                    `;
                    break;
            }

            element.innerHTML = content;
            canvas.appendChild(element);
        }

        function getDefaultFieldName(type) {
            const names = {
                'text': 'textInput',
                'email': 'emailInput',
                'tel': 'phoneInput',
                'textarea': 'message',
                'select': 'dropdown',
                'checkbox': 'checkboxGroup',
                'radio': 'radioGroup',
                'date': 'dateInput'
            };
            return names[type] || 'field';
        }

        function getDefaultLabel(type) {
            const labels = {
                'text': 'Text Input',
                'email': 'Email Input',
                'tel': 'Phone Input',
                'textarea': 'Text Area',
                'select': 'Dropdown',
                'checkbox': 'Checkbox',
                'radio': 'Radio Button',
                'date': 'Date Picker'
            };
            return labels[type] || 'Field';
        }

        function getDefaultPlaceholder(type) {
            const placeholders = {
                'text': 'Enter text...',
                'email': 'Enter email...',
                'tel': 'Enter phone number...',
                'textarea': 'Enter your message...'
            };
            return placeholders[type] || '';
        }

        function toggleConfig(btn) {
            const element = btn.closest('.form-element');
            const config = element.querySelector('.field-config');
            
            // Close other open configs
            document.querySelectorAll('.field-config.active').forEach(c => {
                if (c !== config) c.classList.remove('active');
            });
            
            config.classList.toggle('active');
        }

        function saveConfig(btn) {
            const element = btn.closest('.form-element');
            const config = element.querySelector('.field-config');
            
            const fieldName = config.querySelector('.field-name').value.trim();
            const label = config.querySelector('.field-label').value.trim();
            const placeholderInput = config.querySelector('.field-placeholder');
            const placeholder = placeholderInput ? placeholderInput.value.trim() : '';
            
            if (!fieldName || !label) {
                alert('Field name and label are required!');
                return;
            }
            
            // Update dataset
            element.dataset.fieldname = fieldName;
            element.dataset.label = label;
            if (placeholder) element.dataset.placeholder = placeholder;
            
            // Update UI
            element.querySelector('.element-label').textContent = label;
            
            const input = element.querySelector('input[type="text"], input[type="email"], input[type="tel"], textarea');
            if (input && placeholder) {
                input.placeholder = placeholder;
            }
            
            config.classList.remove('active');
        }

        function cancelConfig(btn) {
            const config = btn.closest('.field-config');
            config.classList.remove('active');
        }

        function deleteElement(btn) {
            btn.closest('.form-element').remove();
            if (canvas.children.length === 0) {
                canvas.classList.add('empty');
            }
        }

        function clearForm() {
            canvas.innerHTML = '';
            canvas.classList.add('empty');
        }

        function generateCode() {
            const elements = canvas.querySelectorAll('.form-element');
            let htmlVanilla = '<form id="customForm" class="custom-form">\n';
            let htmlAngular = '<form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="custom-form">\n';
            let tsInterfaces = '';
            let tsFormControls = '';
            
            elements.forEach((el, index) => {
                const type = el.dataset.type;
                const fieldName = el.dataset.fieldname || 'field';
                const label = el.dataset.label || 'Field';
                const placeholder = el.dataset.placeholder || '';
                
                // ARIHARAN HTML
                htmlVanilla += `  <div class="form-group">\n`;
                htmlVanilla += `    <label for="${fieldName}">${label}</label>\n`;
                
                // Angular HTML
                htmlAngular += `  <div class="form-group">\n`;
                htmlAngular += `    <label for="${fieldName}">${label}</label>\n`;
                
                switch(type) {
                    case 'text':
                        htmlVanilla += `    <input type="text" id="${fieldName}" name="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <input type="text" id="${fieldName}" formControlName="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', Validators.required],\n`;
                        break;
                    case 'email':
                        htmlVanilla += `    <input type="email" id="${fieldName}" name="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <input type="email" id="${fieldName}" formControlName="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['email']">Please enter a valid email</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', [Validators.required, Validators.email]],\n`;
                        break;
                    case 'tel':
                        htmlVanilla += `    <input type="tel" id="${fieldName}" name="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <input type="tel" id="${fieldName}" formControlName="${fieldName}" class="form-control" placeholder="${placeholder}">\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['pattern']">Please enter a valid phone number</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', [Validators.required, Validators.pattern(/^[0-9]{10}$/)]],\n`;
                        break;
                    case 'textarea':
                        htmlVanilla += `    <textarea id="${fieldName}" name="${fieldName}" class="form-control" placeholder="${placeholder}"></textarea>\n`;
                        htmlAngular += `    <textarea id="${fieldName}" formControlName="${fieldName}" class="form-control" placeholder="${placeholder}"></textarea>\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', Validators.required],\n`;
                        break;
                    case 'select':
                        htmlVanilla += `    <select id="${fieldName}" name="${fieldName}" class="form-control">\n`;
                        htmlVanilla += `      <option value="">Select an option</option>\n`;
                        htmlVanilla += `      <option value="option1">Option 1</option>\n`;
                        htmlVanilla += `      <option value="option2">Option 2</option>\n`;
                        htmlVanilla += `      <option value="option3">Option 3</option>\n`;
                        htmlVanilla += `    </select>\n`;
                        htmlAngular += `    <select id="${fieldName}" formControlName="${fieldName}" class="form-control">\n`;
                        htmlAngular += `      <option value="">Select an option</option>\n`;
                        htmlAngular += `      <option value="option1">Option 1</option>\n`;
                        htmlAngular += `      <option value="option2">Option 2</option>\n`;
                        htmlAngular += `      <option value="option3">Option 3</option>\n`;
                        htmlAngular += `    </select>\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', Validators.required],\n`;
                        break;
                    case 'checkbox':
                        htmlVanilla += `    <div class="checkbox-group">\n`;
                        htmlVanilla += `      <label><input type="checkbox" name="${fieldName}[]" value="option1"> Option 1</label>\n`;
                        htmlVanilla += `      <label><input type="checkbox" name="${fieldName}[]" value="option2"> Option 2</label>\n`;
                        htmlVanilla += `    </div>\n`;
                        htmlAngular += `    <div class="checkbox-group" formArrayName="${fieldName}">\n`;
                        htmlAngular += `      <label><input type="checkbox" [value]="'option1'" (change)="onCheckboxChange($event, '${fieldName}')"> Option 1</label>\n`;
                        htmlAngular += `      <label><input type="checkbox" [value]="'option2'" (change)="onCheckboxChange($event, '${fieldName}')"> Option 2</label>\n`;
                        htmlAngular += `    </div>\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">Please select at least one option</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string[];\n`;
                        tsFormControls += `    ${fieldName}: this.fb.array([], Validators.required),\n`;
                        break;
                    case 'radio':
                        htmlVanilla += `    <div class="radio-group">\n`;
                        htmlVanilla += `      <label><input type="radio" name="${fieldName}" value="option1"> Option 1</label>\n`;
                        htmlVanilla += `      <label><input type="radio" name="${fieldName}" value="option2"> Option 2</label>\n`;
                        htmlVanilla += `    </div>\n`;
                        htmlAngular += `    <div class="radio-group">\n`;
                        htmlAngular += `      <label><input type="radio" formControlName="${fieldName}" value="option1"> Option 1</label>\n`;
                        htmlAngular += `      <label><input type="radio" formControlName="${fieldName}" value="option2"> Option 2</label>\n`;
                        htmlAngular += `    </div>\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">Please select an option</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', Validators.required],\n`;
                        break;
                    case 'date':
                        htmlVanilla += `    <input type="date" id="${fieldName}" name="${fieldName}" class="form-control">\n`;
                        htmlAngular += `    <input type="date" id="${fieldName}" formControlName="${fieldName}" class="form-control">\n`;
                        htmlAngular += `    <div class="error" *ngIf="formGroup.get('${fieldName}')?.invalid && formGroup.get('${fieldName}')?.touched">\n`;
                        htmlAngular += `      <small *ngIf="formGroup.get('${fieldName}')?.errors?.['required']">This field is required</small>\n`;
                        htmlAngular += `    </div>\n`;
                        tsInterfaces += `  ${fieldName}: string;\n`;
                        tsFormControls += `    ${fieldName}: ['', Validators.required],\n`;
                        break;
                }
                
                htmlVanilla += `  </div>\n\n`;
                htmlAngular += `  </div>\n\n`;
            });
            
            htmlVanilla += `  <button type="submit" class="submit-btn">Submit</button>\n`;
            htmlVanilla += `</form>`;

            htmlAngular += `  <button type="submit" class="submit-btn" [disabled]="formGroup.invalid">Submit</button>\n`;
            htmlAngular += `</form>`;

            const typescript = `// TypeScript Interface
interface FormData {
${tsInterfaces}}

// ============================================
// ANGULAR REACTIVE FORMS IMPLEMENTATION
// ============================================
import { Component } from '@angular/core';
import { FormBuilder, FormGroup, FormArray, Validators } from '@angular/forms';

@Component({
  selector: 'app-form',
  templateUrl: './form.component.html',
  styleUrls: ['./form.component.css']
})
export class FormComponent {
  formGroup: FormGroup;

  constructor(private fb: FormBuilder) {
    this.formGroup = this.fb.group({
${tsFormControls}    });
  }

  onCheckboxChange(event: any, fieldName: string): void {
    const formArray = this.formGroup.get(fieldName) as FormArray;
    if (event.target.checked) {
      formArray.push(this.fb.control(event.target.value));
    } else {
      const index = formArray.controls.findIndex(x => x.value === event.target.value);
      formArray.removeAt(index);
    }
  }

  onSubmit(): void {
    if (this.formGroup.valid) {
      const formData: FormData = this.formGroup.value;
      console.log('Form Data:', formData);
      // Handle form submission
    } else {
      // Mark all fields as touched to show validation errors
      Object.keys(this.formGroup.controls).forEach(key => {
        this.formGroup.get(key)?.markAsTouched();
      });
    }
  }

  resetForm(): void {
    this.formGroup.reset();
  }
}

// ============================================
// ARIHARAN TYPESCRIPT IMPLEMENTATION
// ============================================
class FormHandler {
  private form: HTMLFormElement;

  constructor(formId: string) {
    this.form = document.getElementById(formId) as HTMLFormElement;
    this.setupEventListeners();
  }

  private setupEventListeners(): void {
    this.form.addEventListener('submit', (e: Event) => {
      e.preventDefault();
      this.handleSubmit();
    });
  }

  private handleSubmit(): void {
    const formData: FormData = this.getFormData();
    console.log('Form Data:', formData);
    // Handle form submission
  }

  private getFormData(): FormData {
    const formData = new FormData(this.form);
    const data: any = {};
    
    formData.forEach((value, key) => {
      if (key.endsWith('[]')) {
        const fieldName = key.slice(0, -2);
        if (!data[fieldName]) {
          data[fieldName] = [];
        }
        data[fieldName].push(value);
      } else {
        data[key] = value;
      }
    });
    
    return data as FormData;
  }

  public reset(): void {
    this.form.reset();
  }
}

// Initialize
const formHandler = new FormHandler('customForm');`;

            const css = `.custom-form {
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #333;
}

.form-control {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 6px;
  font-size: 14px;
  transition: border-color 0.2s;
}

.form-control:focus {
  outline: none;
  border-color: #667eea;
}

.form-control.ng-invalid.ng-touched {
  border-color: #e74c3c;
}

textarea.form-control {
  min-height: 100px;
  resize: vertical;
}

.checkbox-group,
.radio-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.checkbox-group label,
.radio-group label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: normal;
}

.error {
  margin-top: 5px;
}

.error small {
  color: #e74c3c;
  font-size: 12px;
}

.submit-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px 30px;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s;
}

.submit-btn:hover:not(:disabled) {
  transform: translateY(-2px);
}

.submit-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}`;

            const fullCode = `<!-- ============================================ -->
<!-- ARIHARAN HTML (Standard Form) -->
<!-- ============================================ -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Form</title>
    <style>
${css}
    </style>
</head>
<body>
${htmlVanilla}
</body>
</html>

<!-- ============================================ -->
<!-- ANGULAR HTML (Reactive Forms with FormGroup) -->
<!-- ============================================ -->
<!-- form.component.html -->
${htmlAngular}

<!-- ============================================ -->
<!-- CSS STYLES -->
<!-- ============================================ -->
<!-- form.component.css or styles.css -->
${css}

<!-- ============================================ -->
<!-- TYPESCRIPT CODE -->
<!-- ============================================ -->
<!-- form.component.ts -->

${typescript}`;

            document.getElementById('codeOutput').textContent = fullCode;
            document.getElementById('codeModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('codeModal').classList.remove('active');
        }

        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('Code copied to clipboard!');
            });
        }
    </script>
</body>
</html>

